<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D DNA Helix Animation</title>
    <style>
       :root[data-theme="dark"] {
            --dna-primary: #76B900;   /* NVIDIA Green */
            --dna-secondary: #ffffff; /* White for dark backgrounds */
            --dna-bg: #0b0b0b;        /* Dark background */
            --line-color: rgba(118, 185, 0, 0.3);
        }

        :root[data-theme="light"] {
            --dna-primary: #76B900;   /* NVIDIA Green stays the same */
            --dna-secondary: #333333; /* Dark Gray for light backgrounds */
            --dna-bg: #f5f5f5;        /* Light background */
            --line-color: rgba(0, 0, 0, 0.1);
            --box-shadow: none;
        }

        body {
            background-color: var(--dna-bg);
            transition: background-color 0.4s ease; /* Smooth transition when toggling */
        }

        .strand-1 { 
            background-color: var(--dna-primary); 
            box-shadow: 0 0 12px var(--dna-primary); 
        }

        .strand-2 { 
            background-color: var(--dna-secondary); 
            box-shadow: 0 0 8px var(--dna-secondary);
            transition: background-color 0.4s ease; /* Prevents "flickering" during toggle */
        }

        .connector {
            background: var(--line-color);
        }

        /* Add this - it's why the dots are currently invisible */
        .node {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }

        .hero {
            position: relative;
            width: 100%;
            height: 80vh; /* Takes up most of the screen */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
    
        .hero-text {
            position: absolute;
            z-index: 10; /* Ensures text is on top of the DNA */
            text-align: center;
            pointer-events: none; /* Allows you to click "through" the text if needed */
            color: var(--dna-secondary);
            font-family: sans-serif;
        }

        .hero-text h1 {
            font-size: clamp(2rem, 8vw, 5rem); /* Responsive font size */
            margin: 0;
        }
        
        .highlight {
            color: var(--dna-primary);
        }
        
        /* Responsive Helix Container */
        #helix-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: 100%; /* Fills the hero height */
            opacity: 0.6; /* Slight fade so text is easier to read */
        }
        
        /* Mobile Tweak: Make the DNA thinner on small screens */
        @media (max-width: 600px) {
            #helix-container {
                transform: scale(0.7);
            }
        }

        .connector {
            position: absolute;
            height: 2px;
            transform-origin: left center;
            z-index: 1;
        }

        /* Nav Styling */
        nav {
            display: flex;
            justify-content: space-between;
            padding: 20px;
            color: var(--dna-secondary);
        }
    </style>
</head>
<body>
    <nav>
        <div class="logo">IH</div>
        <button id="theme-toggle" aria-label="Toggle dark mode">ðŸŒ™</button>
    </nav>

    <section class="hero">
        <div class="hero-text">
            <h1>Izzat <span class="highlight">Hilmi</span></h1>
            <p>Technical Support Engineer</p>
            <p><a href="https://github.com/izzathilmi" target="_blank"><i class="highlight"></i> GitHub</a>
            <a href="https://www.linkedin.com/in/izzathilmi98/" target="_blank"><i class="highlight"></i> LinkedIn</a></p>
        </div><div id="helix-container"></div>
    </section>

    <script>
        const container = document.getElementById('helix-container');
        const numRows = 30; 
        const speed = 0.01;
        let rotation = 0;

        const rows = [];
        for (let i = 0; i < numRows; i++) {
            const connector = document.createElement('div');
            connector.className = 'connector';
            
            const dot1 = document.createElement('div');
            dot1.className = 'node strand-1';
            
            const dot2 = document.createElement('div');
            dot2.className = 'node strand-2';

            container.appendChild(connector);
            container.appendChild(dot1);
            container.appendChild(dot2);

            rows.push({ connector, dot1, dot2, offset: i * 0.3 });
        }

        function animate() {
            rotation += speed;
            
            // FIX: We must define these variables inside animate() 
            // so they update if you resize the window!
            const containerWidth = container.offsetWidth;
            const containerHeight = container.offsetHeight;
            const centerX = containerWidth / 2;
            const amplitude = Math.min(containerWidth * 0.4, 80); 

            rows.forEach((row, i) => {
                const y = (i / numRows) * containerHeight;
                
                const x1 = Math.sin(rotation + row.offset) * amplitude + centerX;
                const x2 = Math.sin(rotation + row.offset + Math.PI) * amplitude + centerX;
                
                const z1 = Math.cos(rotation + row.offset);
                const z2 = Math.cos(rotation + row.offset + Math.PI);
                
                const scale1 = (z1 + 2) / 3; 
                const scale2 = (z2 + 2) / 3;

                row.dot1.style.left = `${x1}px`;
                row.dot1.style.top = `${y}px`;
                row.dot1.style.transform = `translate(-50%, -50%) scale(${scale1})`;
                row.dot1.style.opacity = (z1 + 1.5) / 2.5;

                row.dot2.style.left = `${x2}px`;
                row.dot2.style.top = `${y}px`;
                row.dot2.style.transform = `translate(-50%, -50%) scale(${scale2})`;
                row.dot2.style.opacity = (z2 + 1.5) / 2.5;

                const width = Math.abs(x1 - x2);
                const left = Math.min(x1, x2);
                row.connector.style.width = `${width}px`;
                row.connector.style.left = `${left}px`;
                row.connector.style.top = `${y}px`;
                row.connector.style.opacity = Math.min(scale1, scale2) * 0.5;
            });

            requestAnimationFrame(animate);
        }

        animate();
    </script>
    <script src="script.js"></script>
</body>
</html>
